o
    >]êbº  ã                   @   sŽ   d Z ddlZddlZddlZddlmZ ddlmZ ddl mZ G dd „ d ej	ƒZ
G dd	„ d	ej	ƒZ
G d
d
„ d
ej	ƒZe
dkrEe ¡  dS dS )
zDefines unittests for models/place.py.

Unittest classes:
    TestPlace_instantiation
    TestPlace_save
    TestPlace_to_dict
é    N)Údatetime)Úsleep)ÚPlacec                   @   sÈ   e Zd ZdZdd„ Zdd„ Zdd „ Zdd	„ Z d
d
„ Zdd
„ Z	dd„ Z
dd„ Z
dd„ Zdd„ Z
dd„ Zdd„ Zdd„ Zdd„ Zdd„ Zd d!„ Zd"d#„ Zd$d%„ Zd&d'„ Zd(d)„ Zd*d+„ Zd,d-„ Zd.d/„ Zd0S )1ÚTestPlace_instantiationz7Unittests for testing instantiation of the Place class.c                 C   s   |   tttƒ ƒ¡ d S ©N)Ú
assertEqualr   Útype©Úself© r
   úJ/home/lexxyla/Desktop/Brennan/AirBnB_clone/tests/test_models/test_place.pyÚtest_no_args_instantiates   s   z1TestPlace_instantiation.test_no_args_instantiatesc                 C   s   |   tƒ tj ¡  ¡ ¡ d S r   )ÚassertInr   ÚmodelsÚ storageÚallÚvaluesr	   r
   r
   r   Ú#test_new_instance_stored_in_objects   s   z;TestPlace_instantiation.test_new_instance_stored_in_objectsc                 C   ó   |   tttƒ jƒ¡ d S r   )r    Ústrr   r   Úidr	   r
   r
   r   Útest_id_is_public_str   ó   z-TestPlace_instantiation.test_id_is_public_strc                 C   r   r   )r    r   r   r   Ú
created_atr	   r
   r
   r   Ú"test_created_at_is_public_datetime   r   z:TestPlace_instantiation.test_created_at_is_public_datetimec                 C   r   r   )r    r   r   r   Ú
updated_atr	   r
   r
   r   Ú"test_updated_at_is_public_datetime    r   z:TestPlace_instantiation.test_updated_at_is_public_datetimec                 C   ó:   t ƒ }|  ttt jƒ¡ |  dt|ƒ¡ |   d|j¡ d S )NÚ city_id)	r   r    r   r   r   r   ÚdirÚ
assertNotInÚ__dict__©r
   Úplr
   r
   r   Ú&test_city_id_is_public_class_attribute#   ó   z>TestPlace_instantiation.test_city_id_is_public_class_attributec                 C   r   )NÚ user_id)	r   r    r   r   r&   r   r   r    r!   r"   r
   r
   r   Ú&test_user_id_is_public_class_attribute)   r%   z>TestPlace_instantiation.test_user_id_is_public_class_attributec                 C   r   )NÚname)	r   r    r   r   r(   r   r   r    r!   r"   r
   r
   r   Ú#test_name_is_public_class_attribute/   r%   z;TestPlace_instantiation.test_name_is_public_class_attributec                 C   s:   t ƒ }|  ttt jƒ¡ |  dt|ƒ¡ |   d|j¡ d S )NÚ
descriptionZ
desctiption)	r   r    r   r   r*   r   r   r    r!   r"   r
   r
   r   Ú*test_description_is_public_class_attribute5   r%   zBTestPlace_instantiation.test_description_is_public_class_attributec                 C   r   )NÚnumber_rooms)	r   r    Úintr   r,   r   r   r    r!   r"   r
   r
   r   Ú+test_number_rooms_is_public_class_attribute;   r%   zCTestPlace_instantiation.test_number_rooms_is_public_class_attributec                 C   r   )NÚnumber_bathrooms)	r   r    r-   r   r/   r   r   r    r!   r"   r
   r
   r   Ú/test_number_bathrooms_is_public_class_attributeA   r%   zGTestPlace_instantiation.test_number_bathrooms_is_public_class_attributec                 C   r   )NÚ	max_guest)	r   r    r-   r   r1   r   r   r    r!   r"   r
   r
   r   Ú(test_max_guest_is_public_class_attributeG   r%   z@TestPlace_instantiation.test_max_guest_is_public_class_attributec                 C   r   )NÚprice_by_night)	r   r    r-   r   r3   r   r   r    r!   r"   r
   r
   r   Ú-test_price_by_night_is_public_class_attributeM   r%   zETestPlace_instantiation.test_price_by_night_is_public_class_attributec                 C   r   )NÚlatitude)	r   r    Úfloatr   r5   r   r   r    r!   r"   r
   r
   r   Ú'test_latitude_is_public_class_attributeS   r%   z?TestPlace_instantiation.test_latitude_is_public_class_attributec                 C   r   )NÚ	longitude)	r   r    r6   r   r8   r   r   r    r!   r"   r
   r
   r   Ú(test_longitude_is_public_class_attributeY   r%   z@TestPlace_instantiation.test_longitude_is_public_class_attributec                 C   r   )NÚ
amenity_ids)	r   r    Úlistr   r:   r   r   r    r!   r"   r
   r
   r   Ú*test_amenity_ids_is_public_class_attribute_   r%   zBTestPlace_instantiation.test_amenity_ids_is_public_class_attributec                 C   s    t ƒ }t ƒ }|  |j|j¡ d S r   )r   ÚassertNotEqualr   ©r
   Zpl1Zpl2r
   r
   r   Útest_two_places_unique_idse   s   z2TestPlace_instantiation.test_two_places_unique_idsc                 C   ó(   t ƒ }tdƒ t ƒ }|  |j|j¡ d S ©Ngš™™™™™©?)r   r   Ú
assertLessr   r>   r
   r
   r   Ú$test_two_places_different_created_atj   ó   z<TestPlace_instantiation.test_two_places_different_created_atc                 C   r@   rA   )r   r   rB   r   r>   r
   r
   r   Ú$test_two_places_different_updated_atp   rD   z<TestPlace_instantiation.test_two_places_different_updated_atc                 C   sl   t  ¡ }t|ƒ}tƒ }d|_| |_|_|  ¡ }|  d|¡ |  d|¡ |  d| |¡ |  d| |¡ d S )NÚ123456z[Place] (123456)z'id': '123456'z'created_at': z'updated_at': )	r   ÚtodayÚreprr   r   r   r   Ú __str__r   )r
   ÚdtÚ dt_reprr#   Zplstrr
   r
   r   Útest_str_representationv   s   z/TestPlace_instantiation.test_str_representationc                 C   s   t d ƒ}|  d |j ¡ ¡ d S r   )r   r    r!   r   r"   r
   r
   r   Útest_args_unused‚   s   z(TestPlace_instantiation.test_args_unusedc                 C   sL   t  ¡ }| ¡ }td||d}|  |jd¡ |  |j|¡ |  |j |¡ d S )NÚ345©r   r   r   )r   rG   Ú	isoformatr   r    r   r   r   )r
   rJ   Údt_isor#   r
   r
   r   Útest_instantiation_with_kwargs†   s   z6TestPlace_instantiation.test_instantiation_with_kwargsc                 C   s>   |   t¡ td d d d W d   ƒ d S 1 sw   Y  d S )NrO   )ÚassertRaisesÚ	TypeErrorr   r	   r
   r
   r   Ú#test_instantiation_with_None_kwargsŽ   s   "ÿz;TestPlace_instantiation.test_instantiation_with_None_kwargsN)Ú__name__Ú
__module__Ú__qualname__Ú __doc__r
   r   r   r   r   r$   r'   r)   r+   r.   r0   r2   r4   r7   r9   r<   r?   rC   rE   rL   rM   rR   rU   r
   r
   r
   r   r      s2    r   c                   @   sD   e Zd ZdZedd„ ƒZdd„ Zdd „ Z dd	„ Zd
d
„ Z	dd
„ Z
dS )ÚTestPlace_savez5Unittests for testing save method of the Place class.c                 C   s(   z	t  dd¡ W d S  ty   Y d S w ©Nú	file.jsonÚtmp)ÚosÚrenameÚ IOErrorr	   r
   r
   r   ÚsetUp–   s
   ÿzTestPlace_save.setUpc                 C   sJ   z t  d¡ W n	 ty   Y nw z	t  dd¡ W d S  ty$   Y d S w r[   )r^   Úremover`   r_   r	   r
   r
   r   ÚtearDown   s   ÿÿzTestPlace_save.tearDownc                 C   s.   t ƒ }tdƒ |j}| ¡  |  ||j¡ d S rA   ©r   r   r   ÚsaverB   )r
   r#   Úfirst_updated_atr
   r
   r   Ú
test_one_save§   s
   zTestPlace_save.test_one_savec                 C   sP   t ƒ }tdƒ |j}| ¡  |j}|  ||¡ tdƒ | ¡  |  ||j¡ d S rA   rd   )r
   r#   rf   Úsecond_updated_atr
   r
   r   Útest_two_saves®   s   zTestPlace_save.test_two_savesc                 C   ó@   t ƒ }|  t¡ | d ¡ W d   ƒ d S 1 sw   Y  d S r   )r   rS   rT   re   r"   r
   r
   r   Útest_save_with_arg¹   ó   "ÿz!TestPlace_save.test_save_with_argc                 C   sX   t ƒ }| ¡  d|j }tddƒ}|  || ¡ ¡ W d   ƒ d S 1 s%w   Y  d S )NzPlace.r\   Úr)r   re   r   Úopenr   Úread)r
   r#   ZplidÚfr
   r
   r   Útest_save_updates_file¾   s   
"ÿz%TestPlace_save.test_save_updates_fileN)
rV   rW   rX   rY   Ú
classmethodra   rc   rg   ri   rk   rq   r
   r
   r
   r   rZ   “   s    

 
rZ   c                   @   sH   e Zd ZdZdd„ Zdd„ Zdd „ Zdd	„ Z d
d
„ Zdd
„ Z	dd„ Z
dS )ÚTestPlace_to_dictz8Unittests for testing to_dict method of the Place class.c                 C   s   |   tttƒ  ¡ ƒ¡ d S r   )Ú
assertTrueÚdictr   r   Ú to_dictr	   r
   r
   r   Útest_to_dict_typeÉ   s   z#TestPlace_to_dict.test_to_dict_typec                 C   sJ   t ƒ }|  d| ¡ ¡ |  d| ¡ ¡ |  d| ¡ ¡ |  d| ¡ ¡ d S )Nr   r   r   Ú	__class__)r   r   rv   r"   r
   r
   r   Ú"test_to_dict_contains_correct_keysÌ   s
   z4TestPlace_to_dict.test_to_dict_contains_correct_keysc                 C   s4   t ƒ }d|_d|_|  d|j¡ |  d| ¡ ¡ d S )NÚ	Holbertonéb   Ú	my_number)r   Ú
middle_namer|   r    r   rv   r"   r
   r
   r   Ú&test_to_dict_contains_added_attributesÓ   s
   z8TestPlace_to_dict.test_to_dict_contains_added_attributesc                 C   sN   t ƒ }| ¡ }|  tt|d ƒ¡ |  tt|d ƒ¡ |  tt|d ƒ¡ d S )Nr   r   r   )r   rv   r    r   r   )r
   r#   Z pl_dictr
   r
   r   Ú)test_to_dict_datetime_attributes_are_strsÚ   s
   z;TestPlace_to_dict.test_to_dict_datetime_attributes_are_strsc                 C   sJ   t  ¡ }tƒ }d|_| |_|_dd| ¡ | ¡ dœ}|   | ¡ |¡ d S )NrF   r   )r   rx   r   r   )	r   rG   r   r   r   r   rP   ÚassertDictEqualrv   )r
   rJ   r#   Útdictr
   r
   r   Útest_to_dict_outputá   s   üz%TestPlace_to_dict.test_to_dict_outputc                 C   s   t ƒ }|  | ¡ |j¡ d S r   )r   r=   rv   r!   r"   r
   r
   r   Ú!test_contrast_to_dict_dunder_dictî   s   z3TestPlace_to_dict.test_contrast_to_dict_dunder_dictc                 C   rj   r   )r   rS   rT   rv   r"   r
   r
   r   Útest_to_dict_with_argò   rl   z'TestPlace_to_dict.test_to_dict_with_argN)
rV   rW   rX   rY   rw   ry   r~   r   r‚   rƒ   r„   r
   r
   r
   r   rs   Æ   s       
rs   Ú__main__)rY   r^   r   Úunittestr   Útimer   Úmodels.placer   ÚTestCaser   rZ   rs   rV   Úmainr
   r
   r
   r   Ú<module>   s     32ÿ
